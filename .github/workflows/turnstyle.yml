name: Turnstyle
run-name: Test - Sleep ${{ format('{0}', inputs.delay) }}
on:
  workflow_dispatch:
    inputs:
      delay:
        type: number
        required: true
jobs:
  do-stuff:
    runs-on: ubuntu-latest
    steps:
      - run: echo "Job start $(date)"
      - name: Turnstyle
        uses: softprops/turnstyle@8db075d65b19bf94e6e8687b504db69938dc3c65
        with:
          abort-after-seconds: 600
          poll-interval-seconds: 10
          github-token: ${{ secrets.GITHUB_TOKEN }}
      - run: echo "Job serial execution start $(date)"
      - run: "sleep ${{ format('{0}', inputs.delay) }}"
      - run: echo "Job serial execution finish $(date)"
